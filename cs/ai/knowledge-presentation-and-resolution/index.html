
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://fuuzen.github.io/notebook/cs/ai/knowledge-presentation-and-resolution/">
      
      
        <link rel="prev" href="../concepts/">
      
      
        <link rel="next" href="../ml/">
      
      
      <link rel="icon" href="../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>知识表示与推理 - 風船の笔记本</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"JetBrains Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <meta name="google-site-verification" content="7QiG8wJPa5_9Ca0Y8hlhT0rJtNqEekDbao8u-zvq7zA"/>
  <meta name="msvalidate.01" content="9A952D9AAB23A5CE98B20FC76E335FA6"/>
  <meta name="yandex-verification" content="cb2a7fddf83f1d59"/>

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#知识和知识表示" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="風船の笔记本" class="md-header__button md-logo" aria-label="風船の笔记本" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            風船の笔记本
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              知识表示与推理
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Cs

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../ie/" class="md-tabs__link">
          
  
    
  
  Ie

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../math/" class="md-tabs__link">
          
  
    
  
  Math

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../si-zheng/" class="md-tabs__link">
          
  
    
  
  Si zheng

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="風船の笔记本" class="md-nav__button md-logo" aria-label="風船の笔记本" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    風船の笔记本
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cs
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Cs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Ai
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Ai
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    人工智能绪论
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    知识表示与推理
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    知识表示与推理
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#知识和知识表示" class="md-nav__link">
    <span class="md-ellipsis">
      知识和知识表示
    </span>
  </a>
  
    <nav class="md-nav" aria-label="知识和知识表示">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#知识" class="md-nav__link">
    <span class="md-ellipsis">
      知识
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#策略" class="md-nav__link">
    <span class="md-ellipsis">
      策略
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#智能" class="md-nav__link">
    <span class="md-ellipsis">
      智能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#知识表示语言问题" class="md-nav__link">
    <span class="md-ellipsis">
      知识表示语言问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#现代逻辑学的基本研究方法" class="md-nav__link">
    <span class="md-ellipsis">
      现代逻辑学的基本研究方法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="现代逻辑学的基本研究方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#符号化" class="md-nav__link">
    <span class="md-ellipsis">
      符号化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#公理化" class="md-nav__link">
    <span class="md-ellipsis">
      公理化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#形式化" class="md-nav__link">
    <span class="md-ellipsis">
      形式化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#命题逻辑" class="md-nav__link">
    <span class="md-ellipsis">
      命题逻辑
    </span>
  </a>
  
    <nav class="md-nav" aria-label="命题逻辑">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#基本概念" class="md-nav__link">
    <span class="md-ellipsis">
      基本概念
    </span>
  </a>
  
    <nav class="md-nav" aria-label="基本概念">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#命题" class="md-nav__link">
    <span class="md-ellipsis">
      命题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#命题逻辑_1" class="md-nav__link">
    <span class="md-ellipsis">
      命题逻辑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#命题逻辑的符号" class="md-nav__link">
    <span class="md-ellipsis">
      命题逻辑的符号
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#命题标识符" class="md-nav__link">
    <span class="md-ellipsis">
      命题标识符
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#联结词" class="md-nav__link">
    <span class="md-ellipsis">
      联结词
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#指派" class="md-nav__link">
    <span class="md-ellipsis">
      指派
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#永真可满足永假" class="md-nav__link">
    <span class="md-ellipsis">
      永真/可满足/永假
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#蕴含等价" class="md-nav__link">
    <span class="md-ellipsis">
      蕴含/等价
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#代换" class="md-nav__link">
    <span class="md-ellipsis">
      代换
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#替换" class="md-nav__link">
    <span class="md-ellipsis">
      替换
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#合析-取范式" class="md-nav__link">
    <span class="md-ellipsis">
      合/析 取范式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#主-合析-取范式" class="md-nav__link">
    <span class="md-ellipsis">
      主 合/析 取范式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#命题演算形式系统-pc" class="md-nav__link">
    <span class="md-ellipsis">
      命题演算形式系统 PC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="命题演算形式系统 PC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#合式公式" class="md-nav__link">
    <span class="md-ellipsis">
      合式公式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#形式系统-pc-的组成" class="md-nav__link">
    <span class="md-ellipsis">
      形式系统 PC 的组成
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#证明" class="md-nav__link">
    <span class="md-ellipsis">
      证明
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#定理" class="md-nav__link">
    <span class="md-ellipsis">
      定理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#演绎" class="md-nav__link">
    <span class="md-ellipsis">
      演绎
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#带前提的演绎" class="md-nav__link">
    <span class="md-ellipsis">
      带前提的演绎
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#演绎定理" class="md-nav__link">
    <span class="md-ellipsis">
      演绎定理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#可靠性定理" class="md-nav__link">
    <span class="md-ellipsis">
      可靠性定理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#一致性定理" class="md-nav__link">
    <span class="md-ellipsis">
      一致性定理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#完全性定理" class="md-nav__link">
    <span class="md-ellipsis">
      完全性定理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#谓词逻辑" class="md-nav__link">
    <span class="md-ellipsis">
      谓词逻辑
    </span>
  </a>
  
    <nav class="md-nav" aria-label="谓词逻辑">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#谓词的阶" class="md-nav__link">
    <span class="md-ellipsis">
      谓词的阶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#项" class="md-nav__link">
    <span class="md-ellipsis">
      项
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#原子公式" class="md-nav__link">
    <span class="md-ellipsis">
      原子公式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#归结推理" class="md-nav__link">
    <span class="md-ellipsis">
      归结推理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="归结推理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#最一般合一算法" class="md-nav__link">
    <span class="md-ellipsis">
      最一般合一算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#归结推理解题步骤" class="md-nav__link">
    <span class="md-ellipsis">
      归结推理解题步骤
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#搜索策略" class="md-nav__link">
    <span class="md-ellipsis">
      搜索策略
    </span>
  </a>
  
    <nav class="md-nav" aria-label="搜索策略">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#排序策略" class="md-nav__link">
    <span class="md-ellipsis">
      排序策略
    </span>
  </a>
  
    <nav class="md-nav" aria-label="排序策略">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#宽度优先" class="md-nav__link">
    <span class="md-ellipsis">
      宽度优先
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#深度优先" class="md-nav__link">
    <span class="md-ellipsis">
      深度优先
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#单元优先" class="md-nav__link">
    <span class="md-ellipsis">
      单元优先
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#精确策略" class="md-nav__link">
    <span class="md-ellipsis">
      精确策略
    </span>
  </a>
  
    <nav class="md-nav" aria-label="精确策略">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#支持集" class="md-nav__link">
    <span class="md-ellipsis">
      支持集
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#线性输入" class="md-nav__link">
    <span class="md-ellipsis">
      线性输入
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#线性归结" class="md-nav__link">
    <span class="md-ellipsis">
      线性归结
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#祖先过滤" class="md-nav__link">
    <span class="md-ellipsis">
      祖先过滤
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#单元归结" class="md-nav__link">
    <span class="md-ellipsis">
      单元归结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#例题" class="md-nav__link">
    <span class="md-ellipsis">
      例题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="例题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#不是兄弟" class="md-nav__link">
    <span class="md-ellipsis">
      不是兄弟
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#john-偷东西" class="md-nav__link">
    <span class="md-ellipsis">
      John 偷东西
    </span>
  </a>
  
    <nav class="md-nav" aria-label="John 偷东西">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#用子句集表示知识" class="md-nav__link">
    <span class="md-ellipsis">
      用子句集表示知识
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#求解问题" class="md-nav__link">
    <span class="md-ellipsis">
      求解问题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#小张是快乐的" class="md-nav__link">
    <span class="md-ellipsis">
      小张是快乐的
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#程序实现" class="md-nav__link">
    <span class="md-ellipsis">
      程序实现
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    机器学习
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    强化学习基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    搜索技术
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../uncentain-knowledge-presentation-and-resolution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    不确定性知识表示与推理
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../data-structure-and-algorithm/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Data structure and algorithm
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../fronet-end/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Fronet end
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../languages/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Languages
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../os/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Os
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../parallel-programing/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Parallel programing
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../principles-of-computer-composition/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Principles of computer composition
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../tools/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Tools
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../ie/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Ie
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../math/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Math
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../si-zheng/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Si zheng
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#知识和知识表示" class="md-nav__link">
    <span class="md-ellipsis">
      知识和知识表示
    </span>
  </a>
  
    <nav class="md-nav" aria-label="知识和知识表示">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#知识" class="md-nav__link">
    <span class="md-ellipsis">
      知识
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#策略" class="md-nav__link">
    <span class="md-ellipsis">
      策略
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#智能" class="md-nav__link">
    <span class="md-ellipsis">
      智能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#知识表示语言问题" class="md-nav__link">
    <span class="md-ellipsis">
      知识表示语言问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#现代逻辑学的基本研究方法" class="md-nav__link">
    <span class="md-ellipsis">
      现代逻辑学的基本研究方法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="现代逻辑学的基本研究方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#符号化" class="md-nav__link">
    <span class="md-ellipsis">
      符号化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#公理化" class="md-nav__link">
    <span class="md-ellipsis">
      公理化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#形式化" class="md-nav__link">
    <span class="md-ellipsis">
      形式化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#命题逻辑" class="md-nav__link">
    <span class="md-ellipsis">
      命题逻辑
    </span>
  </a>
  
    <nav class="md-nav" aria-label="命题逻辑">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#基本概念" class="md-nav__link">
    <span class="md-ellipsis">
      基本概念
    </span>
  </a>
  
    <nav class="md-nav" aria-label="基本概念">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#命题" class="md-nav__link">
    <span class="md-ellipsis">
      命题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#命题逻辑_1" class="md-nav__link">
    <span class="md-ellipsis">
      命题逻辑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#命题逻辑的符号" class="md-nav__link">
    <span class="md-ellipsis">
      命题逻辑的符号
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#命题标识符" class="md-nav__link">
    <span class="md-ellipsis">
      命题标识符
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#联结词" class="md-nav__link">
    <span class="md-ellipsis">
      联结词
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#指派" class="md-nav__link">
    <span class="md-ellipsis">
      指派
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#永真可满足永假" class="md-nav__link">
    <span class="md-ellipsis">
      永真/可满足/永假
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#蕴含等价" class="md-nav__link">
    <span class="md-ellipsis">
      蕴含/等价
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#代换" class="md-nav__link">
    <span class="md-ellipsis">
      代换
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#替换" class="md-nav__link">
    <span class="md-ellipsis">
      替换
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#合析-取范式" class="md-nav__link">
    <span class="md-ellipsis">
      合/析 取范式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#主-合析-取范式" class="md-nav__link">
    <span class="md-ellipsis">
      主 合/析 取范式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#命题演算形式系统-pc" class="md-nav__link">
    <span class="md-ellipsis">
      命题演算形式系统 PC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="命题演算形式系统 PC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#合式公式" class="md-nav__link">
    <span class="md-ellipsis">
      合式公式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#形式系统-pc-的组成" class="md-nav__link">
    <span class="md-ellipsis">
      形式系统 PC 的组成
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#证明" class="md-nav__link">
    <span class="md-ellipsis">
      证明
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#定理" class="md-nav__link">
    <span class="md-ellipsis">
      定理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#演绎" class="md-nav__link">
    <span class="md-ellipsis">
      演绎
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#带前提的演绎" class="md-nav__link">
    <span class="md-ellipsis">
      带前提的演绎
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#演绎定理" class="md-nav__link">
    <span class="md-ellipsis">
      演绎定理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#可靠性定理" class="md-nav__link">
    <span class="md-ellipsis">
      可靠性定理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#一致性定理" class="md-nav__link">
    <span class="md-ellipsis">
      一致性定理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#完全性定理" class="md-nav__link">
    <span class="md-ellipsis">
      完全性定理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#谓词逻辑" class="md-nav__link">
    <span class="md-ellipsis">
      谓词逻辑
    </span>
  </a>
  
    <nav class="md-nav" aria-label="谓词逻辑">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#谓词的阶" class="md-nav__link">
    <span class="md-ellipsis">
      谓词的阶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#项" class="md-nav__link">
    <span class="md-ellipsis">
      项
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#原子公式" class="md-nav__link">
    <span class="md-ellipsis">
      原子公式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#归结推理" class="md-nav__link">
    <span class="md-ellipsis">
      归结推理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="归结推理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#最一般合一算法" class="md-nav__link">
    <span class="md-ellipsis">
      最一般合一算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#归结推理解题步骤" class="md-nav__link">
    <span class="md-ellipsis">
      归结推理解题步骤
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#搜索策略" class="md-nav__link">
    <span class="md-ellipsis">
      搜索策略
    </span>
  </a>
  
    <nav class="md-nav" aria-label="搜索策略">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#排序策略" class="md-nav__link">
    <span class="md-ellipsis">
      排序策略
    </span>
  </a>
  
    <nav class="md-nav" aria-label="排序策略">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#宽度优先" class="md-nav__link">
    <span class="md-ellipsis">
      宽度优先
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#深度优先" class="md-nav__link">
    <span class="md-ellipsis">
      深度优先
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#单元优先" class="md-nav__link">
    <span class="md-ellipsis">
      单元优先
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#精确策略" class="md-nav__link">
    <span class="md-ellipsis">
      精确策略
    </span>
  </a>
  
    <nav class="md-nav" aria-label="精确策略">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#支持集" class="md-nav__link">
    <span class="md-ellipsis">
      支持集
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#线性输入" class="md-nav__link">
    <span class="md-ellipsis">
      线性输入
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#线性归结" class="md-nav__link">
    <span class="md-ellipsis">
      线性归结
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#祖先过滤" class="md-nav__link">
    <span class="md-ellipsis">
      祖先过滤
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#单元归结" class="md-nav__link">
    <span class="md-ellipsis">
      单元归结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#例题" class="md-nav__link">
    <span class="md-ellipsis">
      例题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="例题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#不是兄弟" class="md-nav__link">
    <span class="md-ellipsis">
      不是兄弟
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#john-偷东西" class="md-nav__link">
    <span class="md-ellipsis">
      John 偷东西
    </span>
  </a>
  
    <nav class="md-nav" aria-label="John 偷东西">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#用子句集表示知识" class="md-nav__link">
    <span class="md-ellipsis">
      用子句集表示知识
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#求解问题" class="md-nav__link">
    <span class="md-ellipsis">
      求解问题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#小张是快乐的" class="md-nav__link">
    <span class="md-ellipsis">
      小张是快乐的
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#程序实现" class="md-nav__link">
    <span class="md-ellipsis">
      程序实现
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>知识表示与推理</h1>

<h2 id="知识和知识表示">知识和知识表示<a class="headerlink" href="#知识和知识表示" title="Permanent link">&para;</a></h2>
<h3 id="知识">知识<a class="headerlink" href="#知识" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>数据</strong>一般指单独的事实，是信息的载体</li>
<li><strong>信息</strong>由符号组成，如文字和数字，但是对符号赋予了一定的意义，因此有一定的用途或价值</li>
<li><strong>知识</strong>是由经验总结升华出来的，因此知识是经验的结晶。知识在信息的基础上增加了上下文信息，提供了更多的意义，<strong>因此也就更加有用和有价值</strong>。知识是随着时间的变化而动态变化的，新的知识可以根据规则和已有的知识推导出来。</li>
</ul>
<p>知识是经过加工的信息，它包括：</p>
<ul>
<li>事实：是关于对象和物体的知识。</li>
<li>规则：是有关问题中与事物的行动、动作相联系的因果关系的知识。</li>
<li>元知识：是有关知识的知识，是知识库中的高层知识。</li>
<li>常识性知识：泛指普遍存在而且被普遍认识了的客观事实一类知识。</li>
</ul>
<h3 id="策略">策略<a class="headerlink" href="#策略" title="Permanent link">&para;</a></h3>
<p>策略——关于如何解决问题的政策方略，包括在什么时间、什么地点、由什么主体采取什么行动、达到什么目标、注意什么事项等等一整套完整而具体的行动计划规划、行动步骤、工作方式和工作方法</p>
<h3 id="智能">智能<a class="headerlink" href="#智能" title="Permanent link">&para;</a></h3>
<p>在给定的 问题-问题环境-主体目的 的条件下，<strong>智能</strong>就是有针对性地获取 问题-环境 的<strong>信息</strong>，恰当地对这些<strong>信息</strong>进行处理以<strong>提炼知识</strong>达到认知，在此基础上，把已有的知识与主体的目的信息相结合，合理地产生解决问题的<strong>策略</strong>信息，并利用所得到的策略信息在给定的环境下成功地解决问题达到主体的目的(<strong>行为</strong>)。</p>
<p>省流：信息经加工提炼而成知识，知识被目的激活而成智能。</p>
<p>智能具有 4 个能力：</p>
<ul>
<li>获取有用<strong>信息</strong>的能力</li>
<li>由信息生成<strong>知识(认知)</strong>的能力</li>
<li>由知识和目的生成<strong>策略(决策)</strong>的能力</li>
<li>实施<strong>策略</strong>取得<strong>效果</strong>(<strong>施效</strong>)的能力</li>
</ul>
<h3 id="知识表示语言问题">知识表示语言问题<a class="headerlink" href="#知识表示语言问题" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>语法</strong>——语言的语法描述了组成语句的可能的搭配关系。</li>
<li><strong>语义</strong>——语义定义了语句所指的世界中的事实。</li>
</ul>
<p>从语法和语义，可以给出使用该语言的 Agent 的必要的推理机制。</p>
<p>基于该推理机制，Agent 可以从已知的语句推导出结论，或判断某条信息是不是已蕴涵在现有的知识当中。</p>
<p>知识表示语言需要：</p>
<ul>
<li>语法规则</li>
<li>语义解释</li>
<li>用于演绎和推导的规则</li>
</ul>
<p>知识表示语言应该<strong>支持知识不完全</strong>的情况。不能表达这种不完全性的语言是表达能力不够的语言</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>程序设计语言比较善于描述算法和具体的数据结构</p>
</div>
<h3 id="现代逻辑学的基本研究方法">现代逻辑学的基本研究方法<a class="headerlink" href="#现代逻辑学的基本研究方法" title="Permanent link">&para;</a></h3>
<p>逻辑学(logic)是研究人类思维规律的科学，而现代逻辑学则是用数学(<strong>符号化、公理化、形式化</strong>)的方法来研究这些规律。</p>
<h4 id="符号化">符号化<a class="headerlink" href="#符号化" title="Permanent link">&para;</a></h4>
<p>所谓符号化即是用“一种只作整体认读的记号(signs)”——符号(symbols)表示<strong>量、数及数量关系</strong>。也有用字母、符号表示思维的物理对象、概念对象、判断对象等。</p>
<p>语言化是符号化的初级阶段。</p>
<p>现代逻辑学对思维的研究，需要更加彻底的符号化过程。</p>
<h4 id="公理化">公理化<a class="headerlink" href="#公理化" title="Permanent link">&para;</a></h4>
<p>欧氏几何公理系统中的所有概念都有鲜明的直观背景，其公理、定理也都有强烈的客观意义。像欧氏几何这样的公理系统，常被称为具体公理系统。</p>
<p>始于 Aristotle 的逻辑学被符号化、公理化，逐步演化为现代逻辑学。</p>
<h4 id="形式化">形式化<a class="headerlink" href="#形式化" title="Permanent link">&para;</a></h4>
<p>所谓形式化，就是彻头彻尾的 “<strong>符号化 + 抽象公理化</strong>”</p>
<p>现代逻辑学形式系统组成：</p>
<ul>
<li>用于将概念符号化的符号语言，通常为一形式语言，包括一符号表 ∑ 及语言的文法，可生成表示对象的语言成分项，表示概念、判断的公式；</li>
<li>表示思维规律的逻辑学公理模式和推理规则模式(抽象公理系统)，及其依据它们推演可得到的全部定理组成的理论体系。</li>
</ul>
<h2 id="命题逻辑">命题逻辑<a class="headerlink" href="#命题逻辑" title="Permanent link">&para;</a></h2>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>以下讨论实际上均为<strong>二值逻辑</strong></p>
</div>
<h3 id="基本概念">基本概念<a class="headerlink" href="#基本概念" title="Permanent link">&para;</a></h3>
<h4 id="命题">命题<a class="headerlink" href="#命题" title="Permanent link">&para;</a></h4>
<p>命题是具有真假意义的陈述句。</p>
<p>在特殊的情况下都具有 “真 (True)” 和“假（False)”的意义句子，都是命题。真值——用 T 和 F 表示。</p>
<p>命题有两种类型：</p>
<ul>
<li>原子命题</li>
<li>复合命题——由以下内容复合构成的命题：</li>
<li>联结词</li>
<li>标点符号</li>
<li>原子命题</li>
</ul>
<h4 id="命题逻辑_1">命题逻辑<a class="headerlink" href="#命题逻辑_1" title="Permanent link">&para;</a></h4>
<p>命题逻辑就是研究命题和命题之间关系的符号逻辑系统。</p>
<h4 id="命题逻辑的符号">命题逻辑的符号<a class="headerlink" href="#命题逻辑的符号" title="Permanent link">&para;</a></h4>
<p>命题逻辑的符号：</p>
<ul>
<li>命题常元：True(T) 和 False(F)</li>
<li>命题标识符：P、Q、R 等；</li>
<li>联结词：</li>
<li>¬（否定）</li>
<li><span class="arithmatex">\(\land\)</span>（合取）</li>
<li><span class="arithmatex">\(\lor\)</span> （析取）</li>
<li>→（蕴含）</li>
<li>↔︎（等价）</li>
<li>括号：( )</li>
</ul>
<h4 id="命题标识符">命题标识符<a class="headerlink" href="#命题标识符" title="Permanent link">&para;</a></h4>
<p>用 P、Q、R、S 等来表示命题。可分为：</p>
<ul>
<li><strong>命题常量</strong>（表示确定的命题的命题标识符）</li>
<li><strong>命题变元</strong>（只表示任意命题的位置标志的命题标识符）</li>
<li>当命题变元表示原子命题时，该变元称为<strong>原子变元</strong></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>因为命题变元可以表示任意命题，所以它不能确定真值，故命题变元不是命题。</p>
</div>
<h4 id="联结词">联结词<a class="headerlink" href="#联结词" title="Permanent link">&para;</a></h4>
<p>复合命题的意义是命题组成成份的函数。</p>
<p><strong>联结词的语义</strong>可以定义如下：</p>
<ul>
<li>¬P 为真，当且仅当 P 为假</li>
<li><span class="arithmatex">\(P \land Q\)</span> 为真，当且仅当 P 和 Q 都为真</li>
<li><span class="arithmatex">\(P \lor  Q\)</span> 为真，当且仅当 P 为真，或者 Q 为真</li>
<li>P → Q 为真，当且仅当 P 为假，或者 Q 为真</li>
<li>P ↔︎ Q 为真，当且仅当 P→Q 为真，并且 Q→P 为真</li>
</ul>
<h3 id="指派">指派<a class="headerlink" href="#指派" title="Permanent link">&para;</a></h3>
<p>当命题变元 P 用一个特定的命题取代时，P 才能确定真值，这时也称为对<strong>命题变元</strong> P 进行<strong>指派</strong></p>
<p>设 G 是公式，A1, ... , An, 为 G 中出现的所有原子命题。<strong>公式</strong> G 的一种<strong>指派</strong>是对 A1, ... , An 赋予的一组真值，其中每个 Ai (i=1 , ... , n) 或者为 T 或者为 F。</p>
<p>公式 G 称为<strong>在一种指派下为真</strong>，当且仅当 G 按该指派算出的真值为 T，否则称为<strong>在该指派下为假</strong>。</p>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>若在公式中有 n 个不同的原子 A1 , ... , An，那么该公式就有 <span class="arithmatex">\(2^n\)</span>个不同的指派。</p>
</div>
<h3 id="永真可满足永假">永真/可满足/永假<a class="headerlink" href="#永真可满足永假" title="Permanent link">&para;</a></h3>
<p>公式 <span class="arithmatex">\(A\)</span> 称为<strong>永真式</strong>或<strong>重言式</strong>(tautology)，如果<strong>对任意</strong>指派 α，α 均<strong>弄真</strong> A，即 α(A)=T 。</p>
<p>公式 <span class="arithmatex">\(A\)</span> 称为<strong>可满足</strong>的( satisfiable)， 如果<strong>存在</strong>指派 α 使 α(A)=T，否则称 <span class="arithmatex">\(A\)</span> 为<strong>不可满足</strong>的(unsatisfiable)，或<strong>永假式</strong>。</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>永真式是可满足的</p>
</div>
<p>当 <span class="arithmatex">\(A\)</span> 为永真式(永假式)时， <span class="arithmatex">\(\neg A\)</span> 为永假式(永真式)</p>
<h3 id="蕴含等价">蕴含/等价<a class="headerlink" href="#蕴含等价" title="Permanent link">&para;</a></h3>
<p>称公式 <span class="arithmatex">\(A\)</span> <strong>逻辑蕴涵</strong>公式 B，记为 <span class="arithmatex">\(A\to B\)</span> ，如果所有弄真 <span class="arithmatex">\(A\)</span> 的指派亦必弄真公式 B</p>
<p>称公式集 <span class="arithmatex">\(\Gamma\)</span> <strong>逻辑蕴涵</strong>公式 B，记为 <span class="arithmatex">\(\Gamma \to B\)</span> ，如果弄真 <span class="arithmatex">\(\Gamma\)</span> 中所有公式的指派亦必弄真公式 B</p>
<p>称公式 <span class="arithmatex">\(A\)</span> <strong>逻辑等价</strong>公式 B，记为 <span class="arithmatex">\(A\Leftrightarrow B\)</span> ，如果 <span class="arithmatex">\(A\to B\)</span> 且 <span class="arithmatex">\(B\to A\)</span></p>
<ul>
<li>逻辑蕴涵关系具有</li>
<li>自反性</li>
<li>反对称性</li>
<li>传递性</li>
<li>逻辑等价关系具有</li>
<li>自反性</li>
<li>对称性</li>
<li>传递性</li>
</ul>
<h3 id="代换">代换<a class="headerlink" href="#代换" title="Permanent link">&para;</a></h3>
<p>设 A 为含有命题变元 p 的永真式，那么将 A 中 p 的所有出现均代换为命题公式 B，所得公式(称为 A 的代入实例)仍为永真式。</p>
<h3 id="替换">替换<a class="headerlink" href="#替换" title="Permanent link">&para;</a></h3>
<p>设命题公式 <span class="arithmatex">\(A\)</span> 含有子公式 C (C 为 A 中的符号串，且 C 为命题公式)，如果 <span class="arithmatex">\(C\Leftrightarrow D\)</span>，那么将 <span class="arithmatex">\(A\)</span> 中子公式 C 的某些出现(未必全部)用 D 替换后所得公式 B 满足 <span class="arithmatex">\(A\Leftrightarrow B\)</span>。</p>
<h3 id="合析-取范式">合/析 取范式<a class="headerlink" href="#合析-取范式" title="Permanent link">&para;</a></h3>
<p>命题公式 B 称为命题公式 <span class="arithmatex">\(A\)</span> 的<strong>合取</strong>（或<strong>析取</strong>）<strong>范式</strong>，如果 <span class="arithmatex">\(B\Leftrightarrow A\)</span>，且 B 呈如下形式：</p>
<div class="arithmatex">\[
C_1\land C_2\land ...\land C_m(或 C_1\lor C_2\lor ...\lor C_m)\ \ ,\ \ C_i (i=1, 2,...,m)
\]</div>
<p>其中 <span class="arithmatex">\(C_i\)</span> 形如:</p>
<div class="arithmatex">\[
L_1\lor L_2\lor ...\lor L_n (或L_1\land L_2\land ...\land L_n)\ \ ,\ \ L_j(j=l,2,...,n)
\]</div>
<p>其中 <span class="arithmatex">\(L_i\)</span> 为原子公式或原子公式的否定，并称 <span class="arithmatex">\(L_j\)</span> 为<strong>文字</strong>。</p>
<p>【定理】</p>
<p>任一命题公式 φ 有其对应的合取(析取)范式。</p>
<h3 id="主-合析-取范式">主 合/析 取范式<a class="headerlink" href="#主-合析-取范式" title="Permanent link">&para;</a></h3>
<p>命题公式 B 称为公式 A 的主合取(或主析取)范式，如果:</p>
<ul>
<li>B 是 <span class="arithmatex">\(A\)</span> 的合取(或析取)范式</li>
<li>B 中每一子句均有 <span class="arithmatex">\(A\)</span> 中命题变元的全部出现，且仅出现一次。</li>
</ul>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>n 元命题公式的全体可以划分为 <span class="arithmatex">\(2^{2^n}\)</span> 个等价类，每一类中的公式彼此逻辑等价，并等价于它们共同的主合取范式(或主析取范式)。</p>
</div>
<h2 id="命题演算形式系统-pc">命题演算形式系统 PC<a class="headerlink" href="#命题演算形式系统-pc" title="Permanent link">&para;</a></h2>
<h3 id="合式公式">合式公式<a class="headerlink" href="#合式公式" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(p_l,p_2,p_3,...\)</span>为命题逻辑的合式公式</p>
<p>如果 A，B 是公式，那么这些也是命题逻辑的合式公式：</p>
<ul>
<li><span class="arithmatex">\((\neg A)\)</span></li>
<li><span class="arithmatex">\((A→B)\)</span></li>
</ul>
<h3 id="形式系统-pc-的组成">形式系统 PC 的组成<a class="headerlink" href="#形式系统-pc-的组成" title="Permanent link">&para;</a></h3>
<p>命题逻辑的形式系统 PC 包括 3 条<strong>公理模式</strong> <span class="arithmatex">\((A_1-A_3)\)</span> 和 1 条<strong>推理规则</strong>（即<strong>分离规则</strong>）<span class="arithmatex">\(r_{mp}\)</span>：</p>
<ul>
<li><span class="arithmatex">\(A_1 : A\to(B\to A)\)</span>；</li>
<li><span class="arithmatex">\(A_2 : A\to(B\to C)\to (A\to B)\to(A\to C)\)</span>；</li>
<li><span class="arithmatex">\(A_3 : (\neg A\to\neg B)\to(B\to A)\)</span>；</li>
<li><span class="arithmatex">\(r_{mp}:\frac{A,A\to B}{B}\)</span>；</li>
</ul>
<h3 id="证明">证明<a class="headerlink" href="#证明" title="Permanent link">&para;</a></h3>
<p>称下列<strong>公式序列</strong>为公式 <span class="arithmatex">\(A\)</span> 在 PC 中的一个<strong>证明</strong>(proof)：</p>
<div class="arithmatex">\[
A_1,A_2,...,A_m(=A)
\]</div>
<p>其中 <span class="arithmatex">\(A_i (i=1,2,...,m)\)</span></p>
<ul>
<li>或者是 PC 的公理</li>
<li>或者是 <span class="arithmatex">\(A_j (j\lt i)\)</span></li>
<li>或者是由 <span class="arithmatex">\(A_j,A_k (j,k\lt i)\)</span> 使用分离规则所导出</li>
<li>$A_m =A $</li>
</ul>
<h3 id="定理">定理<a class="headerlink" href="#定理" title="Permanent link">&para;</a></h3>
<p>称 <span class="arithmatex">\(A\)</span> 为 PC 中的定理，记为 <span class="arithmatex">\(\vdash_{PC} A\)</span>，如果公式 <span class="arithmatex">\(A\)</span> 在 PC 中有一个证明。</p>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p><span class="arithmatex">\(\vdash\)</span> (<code>\vdash</code>) 断定符，表示可被推导出，可被证明</p>
</div>
<p><span class="arithmatex">\(\vDash A\)</span> (<code>\vDash</code>) 表示 <span class="arithmatex">\(A\)</span> 永真</p>
<h3 id="演绎">演绎<a class="headerlink" href="#演绎" title="Permanent link">&para;</a></h3>
<p>设 <span class="arithmatex">\(\Gamma\)</span> 为一公式集，称以下公式序列为公式 <span class="arithmatex">\(A\)</span> 的，以 <span class="arithmatex">\(\Gamma\)</span> 为前提的<strong>演绎</strong>：</p>
<div class="arithmatex">\[
A_1,A_2,...,A_m=A\ \ ,\ \  A_i (i=1,2,...,m)
\]</div>
<p>其中 <span class="arithmatex">\(A_i\)</span> 满足：</p>
<ul>
<li>或者是 PC 的公理</li>
<li>或者是 <span class="arithmatex">\(\Gamma\)</span> 的成员</li>
<li>或者是 <span class="arithmatex">\(A_j (j&lt;i)\)</span></li>
<li>或者是由 <span class="arithmatex">\(A_j, A_k (j,k\lt i)\)</span> 使用分离规则所导出</li>
<li><span class="arithmatex">\(A_m=A\)</span></li>
</ul>
<h3 id="带前提的演绎">带前提的演绎<a class="headerlink" href="#带前提的演绎" title="Permanent link">&para;</a></h3>
<p>称 <span class="arithmatex">\(A\)</span> 为前提 <span class="arithmatex">\(\Gamma\)</span> 的演绎结果，如果公式 <span class="arithmatex">\(A\)</span> 有以 <span class="arithmatex">\(\Gamma\)</span> 为前提的演绎。记为：</p>
<div class="arithmatex">\[
\Gamma\vdash_{PC}A
\]</div>
<p>若 <span class="arithmatex">\(\Gamma=\{B\}\)</span>， <span class="arithmatex">\(\Gamma\vdash_{PC}A\)</span> 可以表示为：</p>
<div class="arithmatex">\[
B\vdash_{PC}A
\]</div>
<p>若 <span class="arithmatex">\(B\vdash_{PC}A\)</span>， <span class="arithmatex">\(A\vdash_{PC}B\)</span> 则记为：</p>
<div class="arithmatex">\[
A\vdash\dashv B
\]</div>
<h3 id="演绎定理">演绎定理<a class="headerlink" href="#演绎定理" title="Permanent link">&para;</a></h3>
<p>对应离散数学课程中的“附加前提证明法”</p>
<p>对 PC 中任意公式集 <span class="arithmatex">\(\Gamma\)</span> 和公式 <span class="arithmatex">\(A,B\)</span> ：</p>
<div class="arithmatex">\[
\Gamma\cup\{A\}\vdash_{PC}B\Leftrightarrow\Gamma\vdash_{PC}(A\to B)
\]</div>
<h3 id="可靠性定理">可靠性定理<a class="headerlink" href="#可靠性定理" title="Permanent link">&para;</a></h3>
<p>PC 是可靠的，即对任意公式集 <span class="arithmatex">\(\Gamma\)</span> 及公式 <span class="arithmatex">\(A\)</span> ：</p>
<div class="arithmatex">\[
\Gamma\vdash A\to \Gamma\vDash A
\]</div>
<p>特别地，若 <span class="arithmatex">\(A\)</span> 为 PC 的定理 <span class="arithmatex">\((\vdash A)\)</span> ，则 <span class="arithmatex">\(A\)</span> 永真 <span class="arithmatex">\((\vDash A)\)</span> :</p>
<div class="arithmatex">\[
\vdash A\to \vDash A
\]</div>
<h3 id="一致性定理">一致性定理<a class="headerlink" href="#一致性定理" title="Permanent link">&para;</a></h3>
<p>PC 是一致的(consistent)，即不存在公式 A，使得 <span class="arithmatex">\(A\)</span> 与 <span class="arithmatex">\(\neg A\)</span> 均为 PC 之定理。</p>
<h3 id="完全性定理">完全性定理<a class="headerlink" href="#完全性定理" title="Permanent link">&para;</a></h3>
<p>PC 是完全的，即对任意公式集 <span class="arithmatex">\(\Gamma\)</span> 和公式 <span class="arithmatex">\(A\)</span> ：</p>
<div class="arithmatex">\[
\Gamma\vDash A\to \Gamma\vdash A
\]</div>
<p>特别地，若 <span class="arithmatex">\(A\)</span> 永真 <span class="arithmatex">\((\vDash A)\)</span> ，A 必为 PC 的定理 <span class="arithmatex">\((\vdash A)\)</span>：</p>
<div class="arithmatex">\[
\vDash A\to \vdash A
\]</div>
<h2 id="谓词逻辑">谓词逻辑<a class="headerlink" href="#谓词逻辑" title="Permanent link">&para;</a></h2>
<p>谓词逻辑的语法元素表示如下。</p>
<ul>
<li>常量符号: A、B、张三、李四 等，通常是对象名称</li>
<li>变量符号: 通常用小写字母表示，如 x、 y、z 等</li>
<li>函数符号: 通常用<strong>小写</strong>英文字母或小写英文字母串表示，如 plus、f、g</li>
<li>一元函数、二元函数、...... n 元函数</li>
<li>谓词符号: 通常用<strong>大写</strong>英文字母或(首字母)大写英文字母串表示</li>
<li>一元谓词、二元谓词、...... n 元谓词</li>
<li>联结词: ......</li>
<li>量词 :全称量词 <span class="arithmatex">\(\forall\)</span>、存在量詞 <span class="arithmatex">\(\exists\)</span>， <span class="arithmatex">\(\forall x\)</span> 表示 “対个体域中所有 <span class="arithmatex">\(x\)</span>”、<span class="arithmatex">\(\exists x\)</span> 表示“在个 体域中存在个体 <span class="arithmatex">\(x\)</span> ”。<span class="arithmatex">\(\forall\)</span> 和 <span class="arithmatex">\(\exists\)</span> 后面跟的 <span class="arithmatex">\(x\)</span> 叫作量词的<strong>指导变元</strong></li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>一般一元谓词表达了个体的性质，而多元谓词表达了个体之间的关系</p>
</div>
<h3 id="谓词的阶">谓词的阶<a class="headerlink" href="#谓词的阶" title="Permanent link">&para;</a></h3>
<p>如果谓词 P 中的所有个体都是：</p>
<ul>
<li>个体常量</li>
<li>变元</li>
<li>函数</li>
</ul>
<p>则该谓词为<strong>一阶谓词</strong>，如果某个个体本身又是一个一阶谓词，则称 <span class="arithmatex">\(P\)</span> 为<strong>二阶谓词</strong>，以此类推递归定义 <strong><span class="arithmatex">\(n\)</span> 阶谓词</strong></p>
<h3 id="项">项<a class="headerlink" href="#项" title="Permanent link">&para;</a></h3>
<p>项可递归定义如下：</p>
<ol>
<li>单独一个个体是项(包括常量和变量)</li>
<li>若 <span class="arithmatex">\(f\)</span> 是 <span class="arithmatex">\(n\)</span> 元函数符号，而 <span class="arithmatex">\(t_1,t_2,...,t_n\)</span> 是项，则 <span class="arithmatex">\(f(t_1,t_2,...,t_n)\)</span> 是项</li>
<li>任何项仅由规则(1)、(2)生成。</li>
</ol>
<h3 id="原子公式">原子公式<a class="headerlink" href="#原子公式" title="Permanent link">&para;</a></h3>
<p>若 <span class="arithmatex">\(P\)</span> 为 <span class="arithmatex">\(n\)</span> 元谓词符号，<span class="arithmatex">\(t_1,t_2,...,t_n\)</span> 都是项，则称 <span class="arithmatex">\(P(t_1,t_2,...,t_n)\)</span> 为原子公式。在原子公式中，若 <span class="arithmatex">\(t_1,t_2,...,t_n\)</span> 都不含变量，则 <span class="arithmatex">\(P(t_1,t_2,...,t_n)\)</span> 是命题。</p>
<h2 id="归结推理">归结推理<a class="headerlink" href="#归结推理" title="Permanent link">&para;</a></h2>
<h3 id="最一般合一算法">最一般合一算法<a class="headerlink" href="#最一般合一算法" title="Permanent link">&para;</a></h3>
<p>给定公式集 <span class="arithmatex">\(S=\{S_1,S_2\}\)</span> 进行合一，就是对 <span class="arithmatex">\(S_1,S_2\)</span> 进行合一。</p>
<p>DEMO：<span class="arithmatex">\(S=\{P(a,x,f(g(y))),P(z,h(z,u),f(u))\}\)</span>：</p>
<ol>
<li>令</li>
<li><span class="arithmatex">\(\delta_0=\epsilon\)</span>；</li>
<li><span class="arithmatex">\(W_0=S=\{P(a,x,f(g(y))),P(z,h(z,u),f(u))\}\)</span>；</li>
<li><span class="arithmatex">\(D_0=\{a,z\}\)</span>；</li>
<li>令</li>
<li><span class="arithmatex">\(\delta_1=a/z\)</span>；</li>
<li><span class="arithmatex">\(W_1=\{P(a,x,f(g(y)),P(a,h(a,u),f(u))\}\)</span>；</li>
<li><span class="arithmatex">\(W_1\)</span> 未合一，令 <span class="arithmatex">\(D_1=\{x,h(a,u)\}\)</span>；</li>
<li>令</li>
<li><span class="arithmatex">\(\delta_2=\{a/z,h(a,u)/x\}\)</span>；</li>
<li><span class="arithmatex">\(W_2=\{P(a,h(a,u),f(g(y))),P(a,h(a,u),f(u))\}\)</span>；</li>
<li><span class="arithmatex">\(W_2\)</span> 未合一，令 <span class="arithmatex">\(D_2=\{g(y),u\}\)</span>；</li>
<li>令</li>
<li><span class="arithmatex">\(\delta_3=\{a/z,h(a,u)/x,u/g(y)\}\)</span>；</li>
<li><span class="arithmatex">\(W_3=\{P(a,h(a,u)f(u)),P(a,h(a,u),f(u))\}\)</span>；</li>
<li><span class="arithmatex">\(W_3\)</span> 合一。所以 <span class="arithmatex">\(\delta_3=\{a/z,h(a,u)/x,u/g(y)\}\)</span> 为最一般合一。</li>
</ol>
<h3 id="归结推理解题步骤">归结推理解题步骤<a class="headerlink" href="#归结推理解题步骤" title="Permanent link">&para;</a></h3>
<p>求证一个目标 <span class="arithmatex">\(G\)</span> 时，利用<strong>归结反演</strong>：若子句集 <span class="arithmatex">\(S\)</span> 是不可满足的，则可以使用归结规则由 <span class="arithmatex">\(S\)</span> 产生空子句 NIL ，具体解题步骤：</p>
<ol>
<li>
<p>谓词公式表示问题</p>
</li>
<li>
<p>（optional，定义常量）</p>
</li>
<li>
<p>定义谓词</p>
</li>
<li>
<p>将前提表示成谓词公式</p>
<ul>
<li>
<p>规则：</p>
<p><span class="arithmatex">\(R_1:\cdots\)</span></p>
<p><span class="arithmatex">\(R_2:\cdots\)</span></p>
<p>......</p>
</li>
<li>
<p>事实</p>
</li>
</ul>
</li>
<li>
<p>将要求证的问题表示成谓词公式</p>
<ul>
<li><span class="arithmatex">\(G=\cdots\)</span> （target）</li>
</ul>
</li>
<li>
<p>问题化为子句集</p>
</li>
<li>
<p><span class="arithmatex">\(R_1:\cdots \Rightarrow S_1=\dots\)</span>，</p>
<p><span class="arithmatex">\(R_1:\cdots \Rightarrow S_1=\cdots\)</span>，</p>
<p>......</p>
</li>
<li>
<p>事实：<span class="arithmatex">\(S_i=\cdots\)</span></p>
</li>
<li>
<p>目标：<span class="arithmatex">\(S_{\sim G}=\cdots\)</span>（<img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" title=":warning:" />注意是 <span class="arithmatex">\(\sim G\)</span><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" title=":warning:" />）</p>
</li>
<li>
<p>得到 <span class="arithmatex">\(S=S_1\cup S_2\cup\cdots\cup S_{\sim G}=\{\cdots\lor\cdots,\cdots\}\)</span>。</p>
</li>
<li>
<p>利用归结原理进行归结
   $$
   \begin{aligned}
   &amp;(1) S_1\
   &amp;(2) S_2\
   &amp;\cdots\
   &amp;(k)\cdots  &amp;(1)(2)\text{归结}&amp;,\sigma={a/x,b/y}\
   &amp;(k+1)\cdots  &amp;(3)(k)\text{归结}&amp;,\sigma={c/u,d/v}\
   &amp;\cdots\
   &amp;\text{NIL}
   \end{aligned}
   $$</p>
</li>
</ol>
<h3 id="搜索策略">搜索策略<a class="headerlink" href="#搜索策略" title="Permanent link">&para;</a></h3>
<p>对子句集进行归结时，一个关键问题是决定<strong>选取哪两个子句作归结</strong>，为此需要研究有效的归结控制策略。</p>
<h4 id="排序策略">排序策略<a class="headerlink" href="#排序策略" title="Permanent link">&para;</a></h4>
<p>假设原始子句(包括待证明合式公式的否定的子句)称为 <span class="arithmatex">\(0\)</span> 层归结式。<span class="arithmatex">\((i+1)\)</span> 层的归结式是一个 <span class="arithmatex">\(i\)</span> 层归结式和一个 <span class="arithmatex">\(j(j≤i)\)</span> 层归结式进行归结所得到的归结式。</p>
<h5 id="宽度优先">宽度优先<a class="headerlink" href="#宽度优先" title="Permanent link">&para;</a></h5>
<p>宽度优先就是先生成第 <span class="arithmatex">\(1\)</span> 层所有的归结式，然后是第 <span class="arithmatex">\(2\)</span> 层所有的归结式，以此类推，直到产生空子句结束，或不能再进行归结为止。</p>
<h5 id="深度优先">深度优先<a class="headerlink" href="#深度优先" title="Permanent link">&para;</a></h5>
<p>深度优先是产生一个第 <span class="arithmatex">\(1\)</span> 层的归结式，然后用第 <span class="arithmatex">\(1\)</span> 层的归结式和第 <span class="arithmatex">\(0\)</span> 层的归结式进行归结，得到第 <span class="arithmatex">\(2\)</span> 层的归结式，直到产生空子句结束，否则，用第 <span class="arithmatex">\(2\)</span> 层及其以下各层进行归结，产生第 <span class="arithmatex">\(3\)</span> 层，以此类推。</p>
<h5 id="单元优先">单元优先<a class="headerlink" href="#单元优先" title="Permanent link">&para;</a></h5>
<p>单元优先(unit preference)策略，即在归结过程中优先考虑仅由一个文字构成的子句，这样的子句称为单元子句。</p>
<h4 id="精确策略">精确策略<a class="headerlink" href="#精确策略" title="Permanent link">&para;</a></h4>
<p>精确策略不涉及被归结子句的排序，它们只允许某些归结发生。</p>
<h5 id="支持集">支持集<a class="headerlink" href="#支持集" title="Permanent link">&para;</a></h5>
<p>支持集(set of support)策略，实际是一种目标制导的反向推理</p>
<p>每次归结时，参与归结的子句中至少应有一个是:</p>
<ul>
<li>由目标公式的否定得到的子句</li>
<li>或者是它们的后裔</li>
</ul>
<p>所谓后裔是说，如果 <span class="arithmatex">\(S_i\)</span> 是 <span class="arithmatex">\(S_{i+1}\)</span> 与另外某子句的归结式，或者 <span class="arithmatex">\(S_{i+1}\)</span> 是 <span class="arithmatex">\(S_i\)</span> 的后裔与其他子句的归结式，则称 <span class="arithmatex">\(S_{i+1}\)</span> 是 <span class="arithmatex">\(S_i\)</span> 的后裔， <span class="arithmatex">\(S_i\)</span> 是 <span class="arithmatex">\(S_{i+1}\)</span> 的祖先。</p>
<p>支持集策略是<strong>完备的</strong>，即假如对一个不可满足的子句集合运用支持集策略进行归结，那么最终会导出空子句。</p>
<h5 id="线性输入">线性输入<a class="headerlink" href="#线性输入" title="Permanent link">&para;</a></h5>
<p>线性输人(linear input)策略中参与归结的两个子句中至少有一个是原始子句集中的子句(包括那些待证明的合式公式的否定)。</p>
<p>线性输人策略是<strong>高效的</strong>，但是<strong>不完备的</strong>，如子句集合 <span class="arithmatex">\(\{P\lor Q,\ P\lor \sim Q,\ \sim P\lor Q,\ \sim P\lor \sim Q\}\)</span> 不可满足，但是无法用线性输入归结推出。</p>
<h5 id="线性归结">线性归结<a class="headerlink" href="#线性归结" title="Permanent link">&para;</a></h5>
<p>在归结过程中，除第一次归结都用给定的子句集中的子句外，其后每次归结则至少要有一个亲本子句是上次归结的结果。线性归结策略是<strong>完备的</strong>，<strong>高效的</strong></p>
<h5 id="祖先过滤">祖先过滤<a class="headerlink" href="#祖先过滤" title="Permanent link">&para;</a></h5>
<p>由于线性输入策略是不完备的，改进该策略得到祖先过滤(ancestry filtering)策略，该策略是<strong>完备的</strong>而且是<strong>高效的</strong>。参与归结的两个子句中：</p>
<ul>
<li>至少有一个是初始子句集中的句子</li>
<li>或者一个子句是另一个子句的祖先</li>
</ul>
<h5 id="单元归结">单元归结<a class="headerlink" href="#单元归结" title="Permanent link">&para;</a></h5>
<p>不完备但是高效，与单元优先的区别在于每次<strong>只考虑</strong>单元子句进行归结。</p>
<h3 id="例题">例题<a class="headerlink" href="#例题" title="Permanent link">&para;</a></h3>
<p>实际上是我的作业</p>
<h4 id="不是兄弟">不是兄弟<a class="headerlink" href="#不是兄弟" title="Permanent link">&para;</a></h4>
<p>已知:</p>
<ul>
<li>规则 1:任何人的兄弟不是女性</li>
<li>规则 2:任何人的姐妹必是女性</li>
<li>事实:Mary 是 Bill 的姐妹</li>
</ul>
<p>用归结推理方法证明 Mary 不是 Tom 的兄弟</p>
<hr />
<p>定义谓词：</p>
<ul>
<li><span class="arithmatex">\(F(x)\)</span> : <span class="arithmatex">\(x\)</span> 是女性；(female)</li>
<li><span class="arithmatex">\(M(x)\)</span> : <span class="arithmatex">\(x\)</span> 是男性；(male)</li>
<li><span class="arithmatex">\(B(x,y)\)</span> : <span class="arithmatex">\(x\)</span> 是 <span class="arithmatex">\(y\)</span> 的兄弟; (brother)</li>
<li><span class="arithmatex">\(S(x,y)\)</span> : <span class="arithmatex">\(x\)</span> 是 <span class="arithmatex">\(y\)</span> 的姐妹; (sister)</li>
</ul>
<p>问题用谓词公式表示：</p>
<div class="arithmatex">\[
\begin{aligned}
&amp;R_1:(\forall x)(\forall y)(B(x,y)\to\sim F(x))\\
&amp;R_2:(\forall x)(\forall y)(S(x,y)\to F(x))\\
&amp;Fact:(S(Marry,Bill))\\
&amp;\Rightarrow\\
&amp;G:\sim B(Marry,Tom)
\end{aligned}
\]</div>
<p>再将问题化为子句集：</p>
<div class="arithmatex">\[
\begin{aligned}
&amp;R_1:S_1=\{\sim B(x,y)\lor\sim F(x)\}\\
&amp;R_2:S_2=\{\sim S(x,y)\lor F(x)\}\\
&amp;Fact:S_3=\{S(Marry,Bill)\}\\
&amp;\sim G:S_4=S_{\sim G}=\{B(Marry,Tom)\}\\
&amp;S=S_1\cup S_2\cup S_3\cup S_4
\end{aligned}
\]</div>
<p>归结过程：</p>
<div class="arithmatex">\[
\begin{aligned}
(1)&amp; \sim B(x,y)\lor\sim F(x)\\
(2)&amp; \sim S(x,y)\lor F(x)\\
(3)&amp; S(Marry,Bill)\\
(4)&amp; B(Marry,Tom)\\
(5)&amp; \sim F(x) &amp;(1)(4)\text{归结}&amp;,\sigma=\{Marry/x,Tom/y\}\\
(6)&amp; \sim S(x,y) &amp;(2)(5)\text{归结}&amp;\\
(7)&amp;\text{NIL}&amp;(3)(6)\text{归结}&amp;,\sigma=\{Marry/x,Bill/y\}\\
\end{aligned}
\]</div>
<p>程序验证：</p>
<p><img alt="ResolutionFOLeg1" src="../../../assets/cs/ai/knowledge-presentation-and-resolution/ResolutionFOLeg1.png" /></p>
<h4 id="john-偷东西">John 偷东西<a class="headerlink" href="#john-偷东西" title="Permanent link">&para;</a></h4>
<p>用谓词逻辑的子句集表示下述刑侦知识，并用反演归结的支持集策略证明结论。</p>
<p>(1) 用子句集表示下述知识。</p>
<ol>
<li>John 是贼;</li>
<li>Paul 喜欢酒 (wine);</li>
<li>Paul(也) 喜欢奶酪 (cheese);</li>
<li>如果 Paul 喜欢某物，则 John 也喜欢;</li>
<li>如果某人是贼，而且喜欢某物，则他就可能会偷窃该物。</li>
</ol>
<p>(2) 求:John 可能会偷窃什么?</p>
<h5 id="用子句集表示知识">用子句集表示知识<a class="headerlink" href="#用子句集表示知识" title="Permanent link">&para;</a></h5>
<p>定义常量：</p>
<ul>
<li><span class="arithmatex">\(John\)</span></li>
<li><span class="arithmatex">\(Paul\)</span></li>
<li><span class="arithmatex">\(wine\)</span>：酒</li>
<li><span class="arithmatex">\(cheese\)</span>：奶酪</li>
</ul>
<p>定义谓词：</p>
<ul>
<li><span class="arithmatex">\(T(x)\)</span> : <span class="arithmatex">\(x\)</span> 是贼；(thief)</li>
<li><span class="arithmatex">\(L(x,y)\)</span> : <span class="arithmatex">\(x\)</span> 喜欢 <span class="arithmatex">\(y\)</span> ；(like)</li>
<li><span class="arithmatex">\(S(x,y)\)</span> : <span class="arithmatex">\(x\)</span> 可能会偷窃 <span class="arithmatex">\(y\)</span> ; (stole)</li>
</ul>
<p>用谓词逻辑的子句集表示：</p>
<div class="arithmatex">\[
\begin{aligned}
&amp;S_1=\{T(John)\}\\
&amp;S_2=\{L(Paul,wine)\}\\
&amp;S_3=\{L(Paul,cheese)\}\\
&amp;S_4=\{\sim L(Paul,x)\lor L(John,x)\}\\
&amp;S_5=\{\sim T(x)\lor\sim L(x,y)\lor S(x,y)\}
\end{aligned}
\]</div>
<h5 id="求解问题">求解问题<a class="headerlink" href="#求解问题" title="Permanent link">&para;</a></h5>
<blockquote>
<p>这个 <span class="arithmatex">\(ANSWER(z)\)</span> 是我按照网上答案做的，实际上我觉得不需要这么麻烦，用 <span class="arithmatex">\(S(John,z)\)</span> 就可以了...</p>
</blockquote>
<p>定义谓词 <span class="arithmatex">\(ANSWER(z)\)</span> : <span class="arithmatex">\(z\)</span> 是所求问题的一个答案；</p>
<p>则问题 "John 可能会偷窃什么?" 可以表示为 <span class="arithmatex">\(S(John,z)\to ANSWER(z)\)</span> 也就是析取式： <span class="arithmatex">\(\sim S(John,z)\lor ANSWER(z)\)</span></p>
<p>所有可能的答案包括：</p>
<ul>
<li><span class="arithmatex">\(ANSWER(wine)\)</span></li>
<li><span class="arithmatex">\(ANSWER(cheese)\)</span></li>
</ul>
<p>证明 <span class="arithmatex">\(G=ANSWER(wine)\land ANSWER(cheese)\)</span> 问题，化为子句集：</p>
<div class="arithmatex">\[
\begin{aligned}
&amp;S_1=\{T(John)\}\\
&amp;S_2=\{L(Paul,wine)\}\\
&amp;S_3=\{L(Paul,cheese)\}\\
&amp;S_4=\{\sim L(Paul,x)\lor L(John,x)\}\\
&amp;S_5=\{\sim T(x)\lor\sim L(x,y)\lor S(x,y)\}\\
&amp;S_6=\{\sim S(John,z)\lor ANSWER(z)\}\\
&amp;S_7=S_{\sim G}=\sim ANSWER(wine)\lor\sim ANSWER(cheese)\\
&amp;S=S_1\cup\cdots\cup S_7
\end{aligned}
\]</div>
<p>支持集策略归结过程：</p>
<div class="arithmatex">\[
\begin{aligned}
(1)&amp; T(John)\\
(2)&amp; L(Paul,wine)\\
(3)&amp; L(Paul,cheese)\\
(4)&amp; \sim L(Paul,x)\lor L(John,x)\\
(5)&amp; \sim T(x)\lor\sim L(x,y)\lor S(x,y)\\
(6)&amp; \sim S(John,z)\lor ANSWER(z)\\
(7)&amp; \sim ANSWER(wine)\lor\sim ANSWER(cheese)\\
(8)&amp; \sim T(John)\lor\sim L(John,z)\lor ANSWER(z)
&amp;(5)(6)\text{归结}&amp;,\sigma=\{John/x,z/y\}\\
(9)&amp; \sim T(John)\lor\sim L(Paul,z)\lor ANSWER(z)
&amp;(4)(8)\text{归结}&amp;,\sigma=\{z/x\}\\
(10)&amp; \sim L(Paul,z)\lor ANSWER(z)
&amp;(1)(9)\text{归结}\\
(11)&amp; ANSWER(wine)
&amp;(2)(10)\text{归结}&amp;,\sigma=\{wine/z\}\\
(12)&amp; \sim ANSWER(cheese)
&amp;(7)(11)\text{归结}\\
(13)&amp; ANSWER(cheese)
&amp;(3)(10)\text{归结}&amp;,\sigma=\{cheese/z\}\\
(14)&amp; \text{NIL}
&amp;(12)(13)\text{归结}
\end{aligned}
\]</div>
<p>可证得：John 可能会偷酒（wine）和奶酪（cheese）</p>
<p>程序验证：</p>
<p><img alt="ResolutionFOLeg2" src="../../../assets/cs/ai/knowledge-presentation-and-resolution/ResolutionFOLeg2.png" /></p>
<h4 id="小张是快乐的">小张是快乐的<a class="headerlink" href="#小张是快乐的" title="Permanent link">&para;</a></h4>
<p>任何通过了历史考试并中了彩票的人都是快乐的。任何肯学习或幸运的人都可以通过所有考试，小张不学习，但很幸运，任何人只要是幸运的，就能中彩。</p>
<p>求证:小张是快乐的。</p>
<hr />
<p>定义常量；</p>
<ul>
<li><span class="arithmatex">\(a\)</span> 表示小张</li>
<li><span class="arithmatex">\(h\)</span> 表示历史考试（history）</li>
</ul>
<p>定义谓词：</p>
<ul>
<li><span class="arithmatex">\(P(x,y)\)</span> : <span class="arithmatex">\(x\)</span> 可以通过考试 <span class="arithmatex">\(y\)</span>（pass）</li>
<li><span class="arithmatex">\(F(x)\)</span> : <span class="arithmatex">\(x\)</span> 是幸运的（fortune）</li>
<li><span class="arithmatex">\(S(x)\)</span> : <span class="arithmatex">\(x\)</span> 肯学习（study）</li>
<li><span class="arithmatex">\(H(x)\)</span> : <span class="arithmatex">\(x\)</span> 是快乐的（happy）</li>
<li><span class="arithmatex">\(L(x)\)</span> : <span class="arithmatex">\(x\)</span> 中了彩票（lottery）</li>
</ul>
<p>用谓词公式表示问题：</p>
<div class="arithmatex">\[
\begin{aligned}
&amp; R_1:(\forall x)(P(x,h)\land L(x)\to H(x))\\
&amp; R_2:(\forall x)(S(x)\to(\forall y)(P(x,y)))\\
&amp; R_3:(\forall x)(F(x)\to(\forall y)(P(x,y)))\\
&amp; R_4:(\forall x)(F(x)\to L(x))\\
&amp; F_1:\sim S(a)\\
&amp; F_2:F(a)
\end{aligned}
\]</div>
<p>求证目标为：</p>
<div class="arithmatex">\[
G:H(a)
\]</div>
<p>反演归结，将问题表示为子句集：</p>
<div class="arithmatex">\[
\begin{aligned}
&amp; S_1=\{\sim P(x,h)\lor\sim L(x)\lor H(x)\}\\
&amp; S_2=\{\sim S(x)\lor P(x,y)\}\\
&amp; S_3=\{\sim F(x)\lor P(x,y)\}\\
&amp; S_4=\{\sim F(x)\lor L(x)\}\\
&amp; S_5=\{\sim S(a)\}\\
&amp; S_6=\{F(a)\}\\
&amp; S_7=S_{\sim G}=\{\sim H(a)\}\\
&amp; S=S_1\cup\cdots\cup S_7
\end{aligned}
\]</div>
<p>归结推理过程；</p>
<div class="arithmatex">\[
\begin{aligned}
(1)&amp; \sim P(x,h)\lor\sim L(x)\lor H(x)\\
(2)&amp; \sim S(x)\lor P(x,y)\\
(3)&amp; \sim F(x)\lor P(x,y)\\
(4)&amp; \sim F(x)\lor L(x)\\
(5)&amp; \sim S(a)\\
(6)&amp; F(a)\\
(7)&amp; \sim H(a)\\
(8)&amp; P(a,y)
&amp;(3)(6)\text{归结}&amp;,\sigma=\{a/x\}\\
(9)&amp; L(a)
&amp;(4)(6)\text{归结}&amp;,\sigma=\{a/x\}\\
(10)&amp; \sim L(a)\lor H(a)
&amp;(1)(8)\text{归结}&amp;,\sigma=\{a/x,h/y\}\\
(11)&amp; H(a)
&amp;(9)(10)\text{归结}\\
(12)&amp; \text{NIL}
&amp;(7)(11)\text{归结}
\end{aligned}
\]</div>
<p>由此证得了：小张是快乐的。</p>
<p>程序验证：</p>
<p><img alt="ResolutionFOLeg3" src="../../../assets/cs/ai/knowledge-presentation-and-resolution/ResolutionFOLeg3.png" /></p>
<h3 id="程序实现">程序实现<a class="headerlink" href="#程序实现" title="Permanent link">&para;</a></h3>
<p>实际上是我的作业</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">queue</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span><span class="n">KB</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">KB</span> <span class="o">=</span> <span class="n">KB</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;{(&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;)}&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">items</span> <span class="o">=</span> <span class="n">KB</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;),(&quot;</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">resolution_steps</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">items</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s1"> (</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">clauses</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>        <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">):</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>            <span class="n">item</span> <span class="o">=</span> <span class="n">item</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="n">clause</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span class="n">elements</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;),&quot;</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>        <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">**</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>            <span class="n">elements</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)):</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>            <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>            <span class="n">clause</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)])</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>        <span class="n">clauses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clause</span><span class="p">)</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="k">return</span> <span class="n">clauses</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">resolution_steps</span><span class="p">)</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="k">def</span><span class="w"> </span><span class="nf">MGU</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    <span class="n">variants</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;xx&#39;</span><span class="p">,</span> <span class="s1">&#39;yy&#39;</span><span class="p">,</span> <span class="s1">&#39;zz&#39;</span><span class="p">,</span> <span class="s1">&#39;uu&#39;</span><span class="p">,</span> <span class="s1">&#39;vv&#39;</span><span class="p">,</span> <span class="s1">&#39;ww&#39;</span><span class="p">)</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="n">dimension</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>    <span class="n">mapdict</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">dimension</span><span class="p">):</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>        <span class="k">if</span> <span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">variants</span> <span class="ow">and</span> <span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">variants</span><span class="p">:</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>            <span class="k">if</span> <span class="n">mapdict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">mapdict</span><span class="p">[</span><span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">**</span> <span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>                <span class="n">mapdict</span><span class="p">[</span><span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>                <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>        <span class="k">elif</span> <span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">variants</span> <span class="ow">and</span> <span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">variants</span><span class="p">:</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>            <span class="k">if</span> <span class="n">mapdict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">mapdict</span><span class="p">[</span><span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">**</span> <span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>                <span class="n">mapdict</span><span class="p">[</span><span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>                <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>        <span class="k">elif</span> <span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">variants</span> <span class="ow">and</span> <span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">variants</span> <span class="ow">and</span> <span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>            <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>            <span class="k">if</span> <span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>                <span class="n">mapdict</span><span class="p">[</span><span class="n">l1</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">l2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>    <span class="k">return</span> <span class="n">mapdict</span>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a><span class="c1">## 以下是广度优先搜索策略</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a><span class="k">def</span><span class="w"> </span><span class="nf">resolve</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">):</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>    <span class="n">list_c1keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">sublist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">c1</span><span class="p">]</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>    <span class="n">list_c2keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">sublist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">c2</span><span class="p">]</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">list_c1keys</span><span class="p">)):</span>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>        <span class="n">c1key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">list_c1keys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>        <span class="n">idx_c1key</span> <span class="o">=</span> <span class="n">i</span>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a>        <span class="n">flag</span> <span class="o">=</span> <span class="n">c1key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>        <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>            <span class="n">complement</span> <span class="o">=</span> <span class="n">c1key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>            <span class="n">complement</span> <span class="o">=</span> <span class="s1">&#39;~&#39;</span> <span class="o">+</span> <span class="n">c1key</span>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>        <span class="k">if</span> <span class="n">complement</span> <span class="ow">in</span> <span class="n">list_c2keys</span><span class="p">:</span>
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>            <span class="n">idx_complement</span> <span class="o">=</span> <span class="n">list_c2keys</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">complement</span><span class="p">)</span>
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>            <span class="n">mapdict</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>            <span class="k">if</span> <span class="n">c1</span><span class="p">[</span><span class="n">idx_c1key</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">c2</span><span class="p">[</span><span class="n">idx_complement</span><span class="p">][</span><span class="mi">1</span><span class="p">]:</span>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>                <span class="n">result</span> <span class="o">=</span> <span class="n">MGU</span><span class="p">(</span><span class="n">c1</span><span class="p">[</span><span class="n">idx_c1key</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">c2</span><span class="p">[</span><span class="n">idx_complement</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a>                <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a>                    <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>                    <span class="n">mapdict</span> <span class="o">=</span> <span class="n">result</span>
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a>                <span class="n">char1</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">idx_c1key</span><span class="p">)</span>
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a>                <span class="n">char1</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a>                <span class="n">char2</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">idx_complement</span><span class="p">)</span>
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#__codelineno-0-71"></a>                <span class="n">char2</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#__codelineno-0-72"></a>            <span class="n">c1_to_del</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#__codelineno-0-73"></a>            <span class="n">c2_to_del</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#__codelineno-0-74"></a>            <span class="k">del</span> <span class="n">c1_to_del</span><span class="p">[</span><span class="n">idx_c1key</span><span class="p">]</span>
<a id="__codelineno-0-75" name="__codelineno-0-75" href="#__codelineno-0-75"></a>            <span class="k">del</span> <span class="n">c2_to_del</span><span class="p">[</span><span class="n">idx_complement</span><span class="p">]</span>
<a id="__codelineno-0-76" name="__codelineno-0-76" href="#__codelineno-0-76"></a>            <span class="n">c1_to_del</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">c2_to_del</span><span class="p">)</span>
<a id="__codelineno-0-77" name="__codelineno-0-77" href="#__codelineno-0-77"></a>            <span class="k">return</span> <span class="n">c1_to_del</span><span class="p">,</span> <span class="n">char1</span><span class="p">,</span> <span class="n">char2</span><span class="p">,</span> <span class="n">mapdict</span>
<a id="__codelineno-0-78" name="__codelineno-0-78" href="#__codelineno-0-78"></a>    <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-79" name="__codelineno-0-79" href="#__codelineno-0-79"></a>
<a id="__codelineno-0-80" name="__codelineno-0-80" href="#__codelineno-0-80"></a><span class="k">def</span><span class="w"> </span><span class="nf">resolution</span><span class="p">(</span><span class="n">KB</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-81" name="__codelineno-0-81" href="#__codelineno-0-81"></a>    <span class="n">clauses</span><span class="p">,</span> <span class="n">resolution_steps</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="n">KB</span><span class="p">)</span>
<a id="__codelineno-0-82" name="__codelineno-0-82" href="#__codelineno-0-82"></a>    <span class="n">steps_idx</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-0-83" name="__codelineno-0-83" href="#__codelineno-0-83"></a>    <span class="n">min_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">)</span>
<a id="__codelineno-0-84" name="__codelineno-0-84" href="#__codelineno-0-84"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-85" name="__codelineno-0-85" href="#__codelineno-0-85"></a>        <span class="n">l</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">)</span>
<a id="__codelineno-0-86" name="__codelineno-0-86" href="#__codelineno-0-86"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">)):</span>
<a id="__codelineno-0-87" name="__codelineno-0-87" href="#__codelineno-0-87"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">)):</span>
<a id="__codelineno-0-88" name="__codelineno-0-88" href="#__codelineno-0-88"></a>                <span class="k">if</span> <span class="n">i</span> <span class="o">**</span> <span class="n">j</span><span class="p">:</span>
<a id="__codelineno-0-89" name="__codelineno-0-89" href="#__codelineno-0-89"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-90" name="__codelineno-0-90" href="#__codelineno-0-90"></a>                <span class="n">result</span> <span class="o">=</span> <span class="n">resolve</span><span class="p">(</span><span class="n">clauses</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">clauses</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
<a id="__codelineno-0-91" name="__codelineno-0-91" href="#__codelineno-0-91"></a>                <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-92" name="__codelineno-0-92" href="#__codelineno-0-92"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-93" name="__codelineno-0-93" href="#__codelineno-0-93"></a>                <span class="n">resolvent</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-94" name="__codelineno-0-94" href="#__codelineno-0-94"></a>                <span class="k">if</span> <span class="n">resolvent</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">resolvent</span> <span class="ow">in</span> <span class="n">clauses</span><span class="p">:</span>
<a id="__codelineno-0-95" name="__codelineno-0-95" href="#__codelineno-0-95"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-96" name="__codelineno-0-96" href="#__codelineno-0-96"></a>                <span class="n">clauses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resolvent</span><span class="p">)</span>
<a id="__codelineno-0-97" name="__codelineno-0-97" href="#__codelineno-0-97"></a>                <span class="n">steps_idx</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>
<a id="__codelineno-0-98" name="__codelineno-0-98" href="#__codelineno-0-98"></a>                <span class="n">char1</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-99" name="__codelineno-0-99" href="#__codelineno-0-99"></a>                <span class="n">char2</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-0-100" name="__codelineno-0-100" href="#__codelineno-0-100"></a>                <span class="n">mapdict</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-0-101" name="__codelineno-0-101" href="#__codelineno-0-101"></a>                <span class="k">if</span> <span class="n">char1</span> <span class="o">**</span> <span class="s1">&#39;0&#39;</span> <span class="ow">and</span> <span class="n">char2</span> <span class="o">**</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
<a id="__codelineno-0-102" name="__codelineno-0-102" href="#__codelineno-0-102"></a>                    <span class="n">pre_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;R[</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">]&quot;</span>
<a id="__codelineno-0-103" name="__codelineno-0-103" href="#__codelineno-0-103"></a>                <span class="k">elif</span> <span class="n">char1</span> <span class="o">!=</span> <span class="s1">&#39;0&#39;</span> <span class="ow">and</span> <span class="n">char2</span> <span class="o">**</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
<a id="__codelineno-0-104" name="__codelineno-0-104" href="#__codelineno-0-104"></a>                    <span class="n">pre_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;R[</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}{</span><span class="n">char1</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">]&quot;</span>
<a id="__codelineno-0-105" name="__codelineno-0-105" href="#__codelineno-0-105"></a>                <span class="k">elif</span> <span class="n">char1</span> <span class="o">**</span> <span class="s1">&#39;0&#39;</span> <span class="ow">and</span> <span class="n">char2</span> <span class="o">!=</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
<a id="__codelineno-0-106" name="__codelineno-0-106" href="#__codelineno-0-106"></a>                    <span class="n">pre_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;R[</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}{</span><span class="n">char2</span><span class="si">}</span><span class="s2">]&quot;</span>
<a id="__codelineno-0-107" name="__codelineno-0-107" href="#__codelineno-0-107"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-108" name="__codelineno-0-108" href="#__codelineno-0-108"></a>                    <span class="n">pre_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;R[</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}{</span><span class="n">char1</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}{</span><span class="n">char2</span><span class="si">}</span><span class="s2">]&quot;</span>
<a id="__codelineno-0-109" name="__codelineno-0-109" href="#__codelineno-0-109"></a>                <span class="n">map_string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-0-110" name="__codelineno-0-110" href="#__codelineno-0-110"></a>                <span class="k">if</span> <span class="n">mapdict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-111" name="__codelineno-0-111" href="#__codelineno-0-111"></a>                    <span class="n">pairs</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-112" name="__codelineno-0-112" href="#__codelineno-0-112"></a>                    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">mapdict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-113" name="__codelineno-0-113" href="#__codelineno-0-113"></a>                        <span class="n">pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-114" name="__codelineno-0-114" href="#__codelineno-0-114"></a>                    <span class="n">map_string</span> <span class="o">=</span> <span class="s2">&quot;{&quot;</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pairs</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span>
<a id="__codelineno-0-115" name="__codelineno-0-115" href="#__codelineno-0-115"></a>                <span class="n">result_string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-0-116" name="__codelineno-0-116" href="#__codelineno-0-116"></a>                <span class="k">for</span> <span class="p">[</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">]</span> <span class="ow">in</span> <span class="n">resolvent</span><span class="p">:</span>
<a id="__codelineno-0-117" name="__codelineno-0-117" href="#__codelineno-0-117"></a>                    <span class="n">result_string</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s1">),&#39;</span>
<a id="__codelineno-0-118" name="__codelineno-0-118" href="#__codelineno-0-118"></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">resolvent</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-119" name="__codelineno-0-119" href="#__codelineno-0-119"></a>                    <span class="n">result_string</span> <span class="o">=</span> <span class="n">result_string</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-120" name="__codelineno-0-120" href="#__codelineno-0-120"></a>                <span class="n">result_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">result_string</span><span class="si">}</span><span class="s1">)&#39;</span>
<a id="__codelineno-0-121" name="__codelineno-0-121" href="#__codelineno-0-121"></a>                <span class="n">resolution_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">resolution_steps</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">pre_string</span><span class="si">}{</span><span class="n">map_string</span><span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="n">result_string</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-122" name="__codelineno-0-122" href="#__codelineno-0-122"></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">resolvent</span><span class="p">)</span> <span class="o">**</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-123" name="__codelineno-0-123" href="#__codelineno-0-123"></a>                    <span class="k">return</span> <span class="n">resolution_steps</span><span class="p">,</span> <span class="n">steps_idx</span><span class="p">,</span> <span class="n">min_len</span>
<a id="__codelineno-0-124" name="__codelineno-0-124" href="#__codelineno-0-124"></a>        <span class="k">if</span> <span class="n">l</span> <span class="o">**</span> <span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">):</span>
<a id="__codelineno-0-125" name="__codelineno-0-125" href="#__codelineno-0-125"></a>            <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-126" name="__codelineno-0-126" href="#__codelineno-0-126"></a>
<a id="__codelineno-0-127" name="__codelineno-0-127" href="#__codelineno-0-127"></a><span class="k">def</span><span class="w"> </span><span class="nf">simplify_steps</span><span class="p">(</span><span class="n">steps</span><span class="p">,</span> <span class="n">steps_idx</span><span class="p">,</span> <span class="n">min_len</span><span class="p">):</span>
<a id="__codelineno-0-128" name="__codelineno-0-128" href="#__codelineno-0-128"></a>    <span class="n">q</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
<a id="__codelineno-0-129" name="__codelineno-0-129" href="#__codelineno-0-129"></a>    <span class="n">not_del</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-130" name="__codelineno-0-130" href="#__codelineno-0-130"></a>    <span class="n">q</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">steps_idx</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-131" name="__codelineno-0-131" href="#__codelineno-0-131"></a>    <span class="n">q</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">steps_idx</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-132" name="__codelineno-0-132" href="#__codelineno-0-132"></a>    <span class="k">while</span> <span class="ow">not</span> <span class="n">q</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
<a id="__codelineno-0-133" name="__codelineno-0-133" href="#__codelineno-0-133"></a>        <span class="n">i</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<a id="__codelineno-0-134" name="__codelineno-0-134" href="#__codelineno-0-134"></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">min_len</span><span class="p">:</span>
<a id="__codelineno-0-135" name="__codelineno-0-135" href="#__codelineno-0-135"></a>            <span class="k">continue</span>
<a id="__codelineno-0-136" name="__codelineno-0-136" href="#__codelineno-0-136"></a>        <span class="n">not_del</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-0-137" name="__codelineno-0-137" href="#__codelineno-0-137"></a>        <span class="n">q</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">steps_idx</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-138" name="__codelineno-0-138" href="#__codelineno-0-138"></a>        <span class="n">q</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">steps_idx</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-139" name="__codelineno-0-139" href="#__codelineno-0-139"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">min_len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
<a id="__codelineno-0-140" name="__codelineno-0-140" href="#__codelineno-0-140"></a>        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">not_del</span><span class="p">:</span>
<a id="__codelineno-0-141" name="__codelineno-0-141" href="#__codelineno-0-141"></a>            <span class="k">del</span> <span class="n">steps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-0-142" name="__codelineno-0-142" href="#__codelineno-0-142"></a>    <span class="n">num_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<a id="__codelineno-0-143" name="__codelineno-0-143" href="#__codelineno-0-143"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">steps</span><span class="p">)):</span>
<a id="__codelineno-0-144" name="__codelineno-0-144" href="#__codelineno-0-144"></a>        <span class="n">num</span> <span class="o">=</span> <span class="p">(</span><span class="n">steps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-145" name="__codelineno-0-145" href="#__codelineno-0-145"></a>        <span class="n">num_map</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span>
<a id="__codelineno-0-146" name="__codelineno-0-146" href="#__codelineno-0-146"></a>        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">num_map</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
<a id="__codelineno-0-147" name="__codelineno-0-147" href="#__codelineno-0-147"></a>            <span class="n">steps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">steps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">num_map</span><span class="p">[</span><span class="n">t</span><span class="p">])</span>
<a id="__codelineno-0-148" name="__codelineno-0-148" href="#__codelineno-0-148"></a>    <span class="k">return</span> <span class="n">steps</span>
<a id="__codelineno-0-149" name="__codelineno-0-149" href="#__codelineno-0-149"></a>
<a id="__codelineno-0-150" name="__codelineno-0-150" href="#__codelineno-0-150"></a><span class="k">def</span><span class="w"> </span><span class="nf">ResolutionFOL</span><span class="p">(</span><span class="n">KB</span><span class="p">):</span>
<a id="__codelineno-0-151" name="__codelineno-0-151" href="#__codelineno-0-151"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">resolution</span><span class="p">(</span><span class="n">KB</span><span class="p">)</span>
<a id="__codelineno-0-152" name="__codelineno-0-152" href="#__codelineno-0-152"></a>    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-153" name="__codelineno-0-153" href="#__codelineno-0-153"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Can&#39;t be resolved!&quot;</span><span class="p">)</span>
<a id="__codelineno-0-154" name="__codelineno-0-154" href="#__codelineno-0-154"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-155" name="__codelineno-0-155" href="#__codelineno-0-155"></a>        <span class="p">(</span><span class="n">steps</span><span class="p">,</span> <span class="n">steps_idx</span><span class="p">,</span> <span class="n">min_len</span><span class="p">)</span> <span class="o">=</span> <span class="n">result</span>
<a id="__codelineno-0-156" name="__codelineno-0-156" href="#__codelineno-0-156"></a>        <span class="n">steps</span> <span class="o">=</span> <span class="n">simplify_steps</span><span class="p">(</span><span class="n">steps</span><span class="p">,</span> <span class="n">steps_idx</span><span class="p">,</span> <span class="n">min_len</span><span class="p">)</span>
<a id="__codelineno-0-157" name="__codelineno-0-157" href="#__codelineno-0-157"></a>        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">steps</span><span class="p">:</span>
<a id="__codelineno-0-158" name="__codelineno-0-158" href="#__codelineno-0-158"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
<a id="__codelineno-0-159" name="__codelineno-0-159" href="#__codelineno-0-159"></a>
<a id="__codelineno-0-160" name="__codelineno-0-160" href="#__codelineno-0-160"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">**</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-0-161" name="__codelineno-0-161" href="#__codelineno-0-161"></a>    <span class="n">KB0</span> <span class="o">=</span> <span class="s2">&quot;{(GradStudent(sue),),(~GradStudent(x),Student(x)),(~Student(x),HardWorker(x)),(~HardWorker(sue),)}&quot;</span>
<a id="__codelineno-0-162" name="__codelineno-0-162" href="#__codelineno-0-162"></a>    <span class="n">KB1</span> <span class="o">=</span> <span class="s2">&quot;{(A(tony),),(A(mike),),(A(john),),(L(tony,rain),),(L(tony,snow),),(~A(x),S(x),C(x)),(~C(y),~L(y,rain)),(L(z,snow),~S(z)),(~L(tony,u),~L(mike,u)),(L(tony,v),L(mike,v)),(~A(w),~C(w),S(w))}&quot;</span>
<a id="__codelineno-0-163" name="__codelineno-0-163" href="#__codelineno-0-163"></a>    <span class="n">KB2</span> <span class="o">=</span> <span class="s2">&quot;{(On(tony,mike),),(On(mike,john),),(Green(tony),),(~Green(john),),(~On(xx,yy),~Green(xx),Green(yy))}&quot;</span>
<a id="__codelineno-0-164" name="__codelineno-0-164" href="#__codelineno-0-164"></a>    <span class="n">KB3</span> <span class="o">=</span> <span class="s2">&quot;{(~B(x,y),~F(x)),(~S(x,y),F(x)),(S(Marry,Bill)),(B(Marry,Tom))}&quot;</span>
<a id="__codelineno-0-165" name="__codelineno-0-165" href="#__codelineno-0-165"></a>    <span class="n">KB4</span> <span class="o">=</span> <span class="s2">&quot;{(T(John),),(L(Paul,wine),),(L(Paul,cheese),),(~L(Paul,x),L(John,x)),(~T(x),~L(x,y),S(x,y)),(~S(John,z),ANSWER(z)),(~ANSWER(wine),~ANSWER(cheese))}&quot;</span>
<a id="__codelineno-0-166" name="__codelineno-0-166" href="#__codelineno-0-166"></a>    <span class="n">KB5</span> <span class="o">=</span> <span class="s2">&quot;{(~P(x,h),~L(x),H(x)),(~S(x),P(x,y)),(~F(x),P(x,y)),(~F(x),L(x)),(~S(a)),(F(a)),(~H(a))}&quot;</span>
<a id="__codelineno-0-167" name="__codelineno-0-167" href="#__codelineno-0-167"></a>    <span class="n">ResolutionFOL</span><span class="p">(</span><span class="n">KB0</span><span class="p">)</span>
<a id="__codelineno-0-168" name="__codelineno-0-168" href="#__codelineno-0-168"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\x1B</span><span class="s2">[31m--------------------</span><span class="se">\x1B</span><span class="s2">[m&quot;</span><span class="p">)</span>
<a id="__codelineno-0-169" name="__codelineno-0-169" href="#__codelineno-0-169"></a>    <span class="n">ResolutionFOL</span><span class="p">(</span><span class="n">KB1</span><span class="p">)</span>
<a id="__codelineno-0-170" name="__codelineno-0-170" href="#__codelineno-0-170"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\x1B</span><span class="s2">[31m--------------------</span><span class="se">\x1B</span><span class="s2">[m&quot;</span><span class="p">)</span>
<a id="__codelineno-0-171" name="__codelineno-0-171" href="#__codelineno-0-171"></a>    <span class="n">ResolutionFOL</span><span class="p">(</span><span class="n">KB2</span><span class="p">)</span>
<a id="__codelineno-0-172" name="__codelineno-0-172" href="#__codelineno-0-172"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\x1B</span><span class="s2">[31m--------------------</span><span class="se">\x1B</span><span class="s2">[m&quot;</span><span class="p">)</span>
<a id="__codelineno-0-173" name="__codelineno-0-173" href="#__codelineno-0-173"></a>    <span class="n">ResolutionFOL</span><span class="p">(</span><span class="n">KB3</span><span class="p">)</span> <span class="c1">## 不是兄弟</span>
<a id="__codelineno-0-174" name="__codelineno-0-174" href="#__codelineno-0-174"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\x1B</span><span class="s2">[31m--------------------</span><span class="se">\x1B</span><span class="s2">[m&quot;</span><span class="p">)</span>
<a id="__codelineno-0-175" name="__codelineno-0-175" href="#__codelineno-0-175"></a>    <span class="n">ResolutionFOL</span><span class="p">(</span><span class="n">KB4</span><span class="p">)</span> <span class="c1">## John偷东西</span>
<a id="__codelineno-0-176" name="__codelineno-0-176" href="#__codelineno-0-176"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\x1B</span><span class="s2">[31m--------------------</span><span class="se">\x1B</span><span class="s2">[m&quot;</span><span class="p">)</span>
<a id="__codelineno-0-177" name="__codelineno-0-177" href="#__codelineno-0-177"></a>    <span class="n">ResolutionFOL</span><span class="p">(</span><span class="n">KB5</span><span class="p">)</span> <span class="c1">## 小张是快乐的</span>
<a id="__codelineno-0-178" name="__codelineno-0-178" href="#__codelineno-0-178"></a>
<a id="__codelineno-0-179" name="__codelineno-0-179" href="#__codelineno-0-179"></a>
<a id="__codelineno-0-180" name="__codelineno-0-180" href="#__codelineno-0-180"></a><span class="c1">## 以下为单元归结策略</span>
<a id="__codelineno-0-181" name="__codelineno-0-181" href="#__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182" href="#__codelineno-0-182"></a><span class="k">def</span><span class="w"> </span><span class="nf">resolve_2</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">):</span>
<a id="__codelineno-0-183" name="__codelineno-0-183" href="#__codelineno-0-183"></a>    <span class="n">list_c1keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">sublist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">c1</span><span class="p">]</span>
<a id="__codelineno-0-184" name="__codelineno-0-184" href="#__codelineno-0-184"></a>    <span class="n">list_c2keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">sublist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">c2</span><span class="p">]</span>
<a id="__codelineno-0-185" name="__codelineno-0-185" href="#__codelineno-0-185"></a>    <span class="n">c1key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">list_c1keys</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-186" name="__codelineno-0-186" href="#__codelineno-0-186"></a>    <span class="n">idx_c1key</span> <span class="o">=</span> <span class="n">list_c1keys</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">c1key</span><span class="p">)</span>
<a id="__codelineno-0-187" name="__codelineno-0-187" href="#__codelineno-0-187"></a>    <span class="n">flag</span> <span class="o">=</span> <span class="n">c1key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
<a id="__codelineno-0-188" name="__codelineno-0-188" href="#__codelineno-0-188"></a>    <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
<a id="__codelineno-0-189" name="__codelineno-0-189" href="#__codelineno-0-189"></a>        <span class="n">complement</span> <span class="o">=</span> <span class="n">c1key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<a id="__codelineno-0-190" name="__codelineno-0-190" href="#__codelineno-0-190"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-191" name="__codelineno-0-191" href="#__codelineno-0-191"></a>        <span class="n">complement</span> <span class="o">=</span> <span class="s1">&#39;~&#39;</span> <span class="o">+</span> <span class="n">c1key</span>
<a id="__codelineno-0-192" name="__codelineno-0-192" href="#__codelineno-0-192"></a>    <span class="k">if</span> <span class="n">complement</span> <span class="ow">in</span> <span class="n">list_c2keys</span><span class="p">:</span>
<a id="__codelineno-0-193" name="__codelineno-0-193" href="#__codelineno-0-193"></a>        <span class="n">idx_complement</span> <span class="o">=</span> <span class="n">list_c2keys</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">complement</span><span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194" href="#__codelineno-0-194"></a>        <span class="n">mapdict</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-195" name="__codelineno-0-195" href="#__codelineno-0-195"></a>        <span class="k">if</span> <span class="n">c1</span><span class="p">[</span><span class="n">idx_c1key</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">c2</span><span class="p">[</span><span class="n">idx_complement</span><span class="p">][</span><span class="mi">1</span><span class="p">]:</span>
<a id="__codelineno-0-196" name="__codelineno-0-196" href="#__codelineno-0-196"></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">MGU</span><span class="p">(</span><span class="n">c1</span><span class="p">[</span><span class="n">idx_c1key</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">c2</span><span class="p">[</span><span class="n">idx_complement</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-197" name="__codelineno-0-197" href="#__codelineno-0-197"></a>            <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-198" name="__codelineno-0-198" href="#__codelineno-0-198"></a>                <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-199" name="__codelineno-0-199" href="#__codelineno-0-199"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-200" name="__codelineno-0-200" href="#__codelineno-0-200"></a>                <span class="n">mapdict</span> <span class="o">=</span> <span class="n">result</span>
<a id="__codelineno-0-201" name="__codelineno-0-201" href="#__codelineno-0-201"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-202" name="__codelineno-0-202" href="#__codelineno-0-202"></a>            <span class="n">char1</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">idx_c1key</span><span class="p">)</span>
<a id="__codelineno-0-203" name="__codelineno-0-203" href="#__codelineno-0-203"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-204" name="__codelineno-0-204" href="#__codelineno-0-204"></a>            <span class="n">char1</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
<a id="__codelineno-0-205" name="__codelineno-0-205" href="#__codelineno-0-205"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-206" name="__codelineno-0-206" href="#__codelineno-0-206"></a>            <span class="n">char2</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">idx_complement</span><span class="p">)</span>
<a id="__codelineno-0-207" name="__codelineno-0-207" href="#__codelineno-0-207"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-208" name="__codelineno-0-208" href="#__codelineno-0-208"></a>            <span class="n">char2</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
<a id="__codelineno-0-209" name="__codelineno-0-209" href="#__codelineno-0-209"></a>        <span class="n">c2_to_del</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
<a id="__codelineno-0-210" name="__codelineno-0-210" href="#__codelineno-0-210"></a>        <span class="k">del</span> <span class="n">c2_to_del</span><span class="p">[</span><span class="n">idx_complement</span><span class="p">]</span>
<a id="__codelineno-0-211" name="__codelineno-0-211" href="#__codelineno-0-211"></a>        <span class="k">return</span> <span class="n">c2_to_del</span><span class="p">,</span> <span class="n">char1</span><span class="p">,</span> <span class="n">char2</span><span class="p">,</span> <span class="n">mapdict</span>
<a id="__codelineno-0-212" name="__codelineno-0-212" href="#__codelineno-0-212"></a>    <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-213" name="__codelineno-0-213" href="#__codelineno-0-213"></a>
<a id="__codelineno-0-214" name="__codelineno-0-214" href="#__codelineno-0-214"></a><span class="k">def</span><span class="w"> </span><span class="nf">resolution_2</span><span class="p">(</span><span class="n">KB</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-215" name="__codelineno-0-215" href="#__codelineno-0-215"></a>    <span class="n">clauses</span><span class="p">,</span> <span class="n">resolution_steps</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="n">KB</span><span class="p">)</span>
<a id="__codelineno-0-216" name="__codelineno-0-216" href="#__codelineno-0-216"></a>    <span class="n">singles</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<a id="__codelineno-0-217" name="__codelineno-0-217" href="#__codelineno-0-217"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">)):</span>
<a id="__codelineno-0-218" name="__codelineno-0-218" href="#__codelineno-0-218"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">**</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-219" name="__codelineno-0-219" href="#__codelineno-0-219"></a>            <span class="n">singles</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-0-220" name="__codelineno-0-220" href="#__codelineno-0-220"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-221" name="__codelineno-0-221" href="#__codelineno-0-221"></a>        <span class="n">l</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">)</span>
<a id="__codelineno-0-222" name="__codelineno-0-222" href="#__codelineno-0-222"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">)):</span>
<a id="__codelineno-0-223" name="__codelineno-0-223" href="#__codelineno-0-223"></a>            <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">singles</span><span class="p">:</span>
<a id="__codelineno-0-224" name="__codelineno-0-224" href="#__codelineno-0-224"></a>                <span class="k">continue</span>
<a id="__codelineno-0-225" name="__codelineno-0-225" href="#__codelineno-0-225"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">)):</span>
<a id="__codelineno-0-226" name="__codelineno-0-226" href="#__codelineno-0-226"></a>                <span class="k">if</span> <span class="n">i</span> <span class="o">**</span> <span class="n">j</span><span class="p">:</span>
<a id="__codelineno-0-227" name="__codelineno-0-227" href="#__codelineno-0-227"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-228" name="__codelineno-0-228" href="#__codelineno-0-228"></a>                <span class="n">result</span> <span class="o">=</span> <span class="n">resolve_2</span><span class="p">(</span><span class="n">clauses</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">clauses</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
<a id="__codelineno-0-229" name="__codelineno-0-229" href="#__codelineno-0-229"></a>                <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-230" name="__codelineno-0-230" href="#__codelineno-0-230"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-231" name="__codelineno-0-231" href="#__codelineno-0-231"></a>                <span class="n">resolvent</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-232" name="__codelineno-0-232" href="#__codelineno-0-232"></a>                <span class="k">if</span> <span class="n">resolvent</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">resolvent</span> <span class="ow">in</span> <span class="n">clauses</span><span class="p">:</span>
<a id="__codelineno-0-233" name="__codelineno-0-233" href="#__codelineno-0-233"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-234" name="__codelineno-0-234" href="#__codelineno-0-234"></a>                <span class="n">clauses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resolvent</span><span class="p">)</span>
<a id="__codelineno-0-235" name="__codelineno-0-235" href="#__codelineno-0-235"></a>                <span class="n">char1</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-236" name="__codelineno-0-236" href="#__codelineno-0-236"></a>                <span class="n">char2</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-0-237" name="__codelineno-0-237" href="#__codelineno-0-237"></a>                <span class="n">mapdict</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-0-238" name="__codelineno-0-238" href="#__codelineno-0-238"></a>                <span class="k">if</span> <span class="n">char1</span> <span class="o">**</span> <span class="s1">&#39;0&#39;</span> <span class="ow">and</span> <span class="n">char2</span> <span class="o">**</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
<a id="__codelineno-0-239" name="__codelineno-0-239" href="#__codelineno-0-239"></a>                    <span class="n">pre_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;R[</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">]&quot;</span>
<a id="__codelineno-0-240" name="__codelineno-0-240" href="#__codelineno-0-240"></a>                <span class="k">elif</span> <span class="n">char1</span> <span class="o">!=</span> <span class="s1">&#39;0&#39;</span> <span class="ow">and</span> <span class="n">char2</span> <span class="o">**</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
<a id="__codelineno-0-241" name="__codelineno-0-241" href="#__codelineno-0-241"></a>                    <span class="n">pre_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;R[</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}{</span><span class="n">char1</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">]&quot;</span>
<a id="__codelineno-0-242" name="__codelineno-0-242" href="#__codelineno-0-242"></a>                <span class="k">elif</span> <span class="n">char1</span> <span class="o">**</span> <span class="s1">&#39;0&#39;</span> <span class="ow">and</span> <span class="n">char2</span> <span class="o">!=</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
<a id="__codelineno-0-243" name="__codelineno-0-243" href="#__codelineno-0-243"></a>                    <span class="n">pre_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;R[</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}{</span><span class="n">char2</span><span class="si">}</span><span class="s2">]&quot;</span>
<a id="__codelineno-0-244" name="__codelineno-0-244" href="#__codelineno-0-244"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-245" name="__codelineno-0-245" href="#__codelineno-0-245"></a>                    <span class="n">pre_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;R[</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}{</span><span class="n">char1</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}{</span><span class="n">char2</span><span class="si">}</span><span class="s2">]&quot;</span>
<a id="__codelineno-0-246" name="__codelineno-0-246" href="#__codelineno-0-246"></a>                <span class="n">map_string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-0-247" name="__codelineno-0-247" href="#__codelineno-0-247"></a>                <span class="k">if</span> <span class="n">mapdict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-248" name="__codelineno-0-248" href="#__codelineno-0-248"></a>                    <span class="n">pairs</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-249" name="__codelineno-0-249" href="#__codelineno-0-249"></a>                    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">mapdict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-250" name="__codelineno-0-250" href="#__codelineno-0-250"></a>                        <span class="n">pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-251" name="__codelineno-0-251" href="#__codelineno-0-251"></a>                    <span class="n">map_string</span> <span class="o">=</span> <span class="s2">&quot;{&quot;</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pairs</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span>
<a id="__codelineno-0-252" name="__codelineno-0-252" href="#__codelineno-0-252"></a>                <span class="n">result_string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-0-253" name="__codelineno-0-253" href="#__codelineno-0-253"></a>                <span class="k">for</span> <span class="p">[</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">]</span> <span class="ow">in</span> <span class="n">resolvent</span><span class="p">:</span>
<a id="__codelineno-0-254" name="__codelineno-0-254" href="#__codelineno-0-254"></a>                    <span class="n">result_string</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s1">),&#39;</span>
<a id="__codelineno-0-255" name="__codelineno-0-255" href="#__codelineno-0-255"></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">resolvent</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-256" name="__codelineno-0-256" href="#__codelineno-0-256"></a>                    <span class="n">result_string</span> <span class="o">=</span> <span class="n">result_string</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-257" name="__codelineno-0-257" href="#__codelineno-0-257"></a>                <span class="n">result_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">result_string</span><span class="si">}</span><span class="s1">)&#39;</span>
<a id="__codelineno-0-258" name="__codelineno-0-258" href="#__codelineno-0-258"></a>                <span class="n">resolution_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">resolution_steps</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">pre_string</span><span class="si">}{</span><span class="n">map_string</span><span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="n">result_string</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-259" name="__codelineno-0-259" href="#__codelineno-0-259"></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">resolvent</span><span class="p">)</span> <span class="o">**</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-260" name="__codelineno-0-260" href="#__codelineno-0-260"></a>                    <span class="k">return</span> <span class="n">resolution_steps</span>
<a id="__codelineno-0-261" name="__codelineno-0-261" href="#__codelineno-0-261"></a>                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">resolvent</span><span class="p">)</span> <span class="o">**</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-262" name="__codelineno-0-262" href="#__codelineno-0-262"></a>                    <span class="n">singles</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-263" name="__codelineno-0-263" href="#__codelineno-0-263"></a>        <span class="k">if</span> <span class="n">l</span> <span class="o">**</span> <span class="nb">len</span><span class="p">(</span><span class="n">clauses</span><span class="p">):</span>
<a id="__codelineno-0-264" name="__codelineno-0-264" href="#__codelineno-0-264"></a>            <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-265" name="__codelineno-0-265" href="#__codelineno-0-265"></a>
<a id="__codelineno-0-266" name="__codelineno-0-266" href="#__codelineno-0-266"></a><span class="k">def</span><span class="w"> </span><span class="nf">ResolutionFOL_2</span><span class="p">(</span><span class="n">KB</span><span class="p">):</span>
<a id="__codelineno-0-267" name="__codelineno-0-267" href="#__codelineno-0-267"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">resolution_2</span><span class="p">(</span><span class="n">KB</span><span class="p">)</span>
<a id="__codelineno-0-268" name="__codelineno-0-268" href="#__codelineno-0-268"></a>    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-269" name="__codelineno-0-269" href="#__codelineno-0-269"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Can&#39;t be resolved!&quot;</span><span class="p">)</span>
<a id="__codelineno-0-270" name="__codelineno-0-270" href="#__codelineno-0-270"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-271" name="__codelineno-0-271" href="#__codelineno-0-271"></a>        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
<a id="__codelineno-0-272" name="__codelineno-0-272" href="#__codelineno-0-272"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
</code></pre></div>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../concepts/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 人工智能绪论">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                人工智能绪论
              </div>
            </div>
          </a>
        
        
          
          <a href="../ml/" class="md-footer__link md-footer__link--next" aria-label="Next: 机器学习">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                机器学习
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.path", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.prune", "navigation.indexes", "navigation.footer", "navigation.tracking", "navigation.instant", "navigation.instant.progress", "content.code.copy", "content.code.select", "content.tabs.link", "toc.follow"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>